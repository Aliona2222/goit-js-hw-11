const e=document.querySelector(".gallery"),t=document.querySelector(".load-more");let a=1,n="";t.style.display="none";const i=new SimpleLightbox(".gallery a",{captions:!0});async function o(a,n){try{const o=await axios.get("https://pixabay.com/api/",{params:{key:"38558428-cb3057c82e30c898989dfbccf",q:a,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:40,page:n}}),{hits:s,totalHits:r}=o.data;if(0===s.length)return void Notiflix.Notify.failure("Sorry, there are no images matching your search query. Please try again.");!function(t){const a=t.map((e=>{const t=document.createElement("div");return t.innerHTML=`\n        <a href="${e.largeImageURL}" class="photo-card">\n          <img src="${e.webformatURL}" alt="${e.tags}" loading="lazy" />\n          <div class="info">\n            <p class="info-item"><b>Likes</b>: ${e.likes}</p>\n            <p class="info-item"><b>Views</b>: ${e.views}</p>\n            <p class="info-item"><b>Comments</b>: ${e.comments}</p>\n            <p class="info-item"><b>Downloads</b>: ${e.downloads}</p>\n          </div>\n        </a>\n      `,t}));e.append(...a),i.refresh()}(s),i.refresh(),1===n&&Notiflix.Notify.success(`Hooray! We found ${r} images.`),s.length<40?(t.style.display="none",Notiflix.Notify.info("We're sorry, but you've reached the end of search results.")):t.style.display="block"}catch(e){console.error("Error fetching images:",e),Notiflix.Notify.failure("Failed to fetch images. Please try again later.")}}document.getElementById("search-form").addEventListener("submit",(async i=>{i.preventDefault(),a=1,e.innerHTML="",t.style.display="none";const s=i.target.searchQuery.value.trim();s&&(n=s,await o(s,a))})),window.addEventListener("scroll",(async()=>{const t=e.getBoundingClientRect().height;window.scrollY+window.innerHeight>=t-200&&(a++,await o(n,a))}));
//# sourceMappingURL=index.5d6bee13.js.map
